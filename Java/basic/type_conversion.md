# 型について

## 変数の型のルール
- 代入の際、代入する値の型と変数の型は一致していなければならない
- 算術演算子を利用する場合も、同じ型同士でなければ計算できない
- ※リテラル（マジックナンバー）について
データのことをリテラルという。**リテラルは、"名無しの変数"であり、暗黙的に型が決められている**

### 代入の例
```java
int itIndustrylifetimeWage = 276000000;
// 276000000は、いったんint型の変数（名無し）に格納され、その後代入処理がされる

long itIndustryMarketSize = 1355000000000L;
// 1355000000000Lは、long型として名無し変数に格納後、代入処理がされる

char favoriteKanji = '紫';
// '紫'はchar型として名無し変数に格納後、代入処理がされる

String dreamJob = "エンジニア";
// "エンジニア"は、String型として処理されたあと、代入処理がされる
```

## 自動型変換

### 代入の場合
代入元と代入先の型が違っていても、一定の条件を満たせば自動で型変換が行われる。
int型（名無し）をlong型（変数）に代入する場合、一旦long型（名無し）に変換されて、変数に代入される。
条件は、以下の通り。
1. 代入元と代入先がともに整数型または小数点数型である
2. 変数の型 > リテラルの型である

### 算術演算子の場合
- 計算するデータの型が違っていても、一番大きい型に揃えて計算される。
- 整数型と小数点数型が混在している場合は、小数点数型に揃えられる。
- 文字列が混在している場合は、エラーにはならず、文字列の連結として処理される
  この場合、処理は右辺の左側から行われる。その影響で、次のようなケースに注意。
```java
String sum = "";
sum += 1 + 2 + "point";
// はじめに数式1+2=3が処理される。
// 次に、3と文字列のpointが結合される。
// よってsumの中身は、文字列「3point」となる。 
```

```java
String sum = "";
sum = sum + 1 + 2 + "point";
// はじめに文字列sum+1が処理される。この時点で文字列「1」が生成される。
// 次に、文字列「1」と数値2が結合され、文字列「12」となる。
// 最後に、文字列「12」と文字列「point」が結合される。
// よってsumの中身は、文字列「12point」となる。 
```

そこで、代入演算子を使いつつ12pointにしたいときは、型変換を使用しておく必要がある。
```java
String sum = "";
sum += String.valueOf(1) + String.valueOf(2) + "point";
```

## キャスト
数値同士の型を一時的に合わせる場合に使用する
```java
long x = 10;
int y = (int)x;
// 変数xはlong型だが、代入の瞬間はint型として扱う
```

## 文字と数値間の型変換
``` java
// 文字列→数値
String x = "10";
int y = Integer.parseInt(x);
// 文字列xはint型に変換される

// 数値→文字列
int x = 10;
String y = String.valueOf(x);
// 数値xはString型に変換される
```